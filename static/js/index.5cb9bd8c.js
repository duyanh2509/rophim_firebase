(()=>{"use strict";var e={109:function(e,t,s){var a=s(893),l=s(294),r=s(745),n=s(997),i=s(850);let o=(0,s(599).ZF)({apiKey:"AIzaSyAY0F0upLfdMneFtz02rbCY9ONFq2u1IOc",authDomain:"rophim-firebase.firebaseapp.com",projectId:"rophim-firebase",storageBucket:"rophim-firebase.firebasestorage.app",messagingSenderId:"286081078964",appId:"1:286081078964:web:8ebcb82d47c827256f69e1",measurementId:"G-L9K21D9T0T"}),c=(0,i.ad)(o),d=function(e){let{addMovie:t}=e,[s,r]=(0,l.useState)({title:"",slug:"",age:"",season:"",episode:"",description:"",image:"",time:"",region:"",actor:"",type:""}),[n,o]=(0,l.useState)(""),d=e=>{let{name:t,value:s}=e.target;r(e=>({...e,[t]:s}))},m=async e=>{e.preventDefault();let a={title:s.title,slug:s.slug,age:s.age,season:s.season,episode:s.episode?s.episode.split(",").map(e=>e.trim()).filter(Boolean):[],description:s.description,image:s.image,time:s.time,region:s.region?s.region.split(",").map(e=>e.trim()).filter(Boolean):[],actor:s.actor?s.actor.split(",").map(e=>e.trim()).filter(Boolean):[],type:s.type?s.type.split(",").map(e=>e.trim()).filter(Boolean):[]};try{let e={id:(await (0,i.ET)((0,i.hJ)(c,"movies"),a)).id,...a};t(e),r({title:"",slug:"",age:"",season:"",type:"",episode:"",description:"",image:"",time:"",region:"",actor:""}),o(""),alert("Đ\xe3 th\xeam phim!")}catch(e){console.error(e),o("Lỗi khi th\xeam phim!")}};return(0,a.jsxs)("form",{onSubmit:m,className:"space-y-3 mt-[75px] bg-gray-800 p-6 rounded-xl text-white",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Th\xeam Phim Mới"}),[{name:"title",type:"text",placeholder:"Title"},{name:"slug",type:"text",placeholder:"Slug"},{name:"age",type:"text",placeholder:"Allow Age"},{name:"season",type:"text",placeholder:"Season"},{name:"episode",type:"text",placeholder:"Episodes"},{name:"type",type:"text",placeholder:"Types"},{name:"description",type:"text",placeholder:"Description"},{name:"image",type:"text",placeholder:"Image URL"},{name:"time",type:"text",placeholder:"Time"},{name:"region",type:"text",placeholder:"Regions"},{name:"actor",type:"text",placeholder:"Actors"}].map(e=>(0,a.jsx)("input",{type:e.type,name:e.name,placeholder:e.placeholder,value:s[e.name],onChange:d,className:"w-full p-2 bg-gray-700 rounded"},e.name)),n&&(0,a.jsx)("p",{className:"text-red-400 text-sm",children:n}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 py-2 rounded font-semibold",children:"Save Movie"})]})},m=function(e){let{movieId:t,onDeleteSuccess:s,fetchMovies:l}=e,r=async()=>{try{let e=(0,i.JU)(c,"movies",t);await (0,i.oe)(e),alert("Đ\xe3 x\xf3a phim!"),s(t),await l()}catch(e){console.error("Lỗi khi x\xf3a phim:",e),alert("Kh\xf4ng x\xf3a được phim: "+e.message)}};return(0,a.jsx)("button",{onClick:r,className:"bg-red-600 px-3 py-1 rounded hover:bg-red-700",children:"X\xf3a"})},h=function(e){let{listMovies:t,setListMovies:s,fetchMovies:l}=e,r=(0,n.s0)(),i=e=>{s(t=>t.filter(t=>t.id!==e))};return(0,a.jsxs)("div",{className:"p-6 mt-[75px] text-white",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Danh s\xe1ch phim"}),0===t.length?(0,a.jsx)("p",{children:"Kh\xf4ng c\xf3 phim n\xe0o."}):(0,a.jsxs)("table",{className:"w-full text-left border border-gray-600",children:[(0,a.jsx)("thead",{className:"bg-gray-800",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-2",children:"ID"}),(0,a.jsx)("th",{className:"p-2",children:"Ti\xeau đề"}),(0,a.jsx)("th",{className:"p-2",children:"Slug"}),(0,a.jsx)("th",{className:"p-2",children:"Thao t\xe1c"})]})}),(0,a.jsx)("tbody",{children:t.map(e=>(0,a.jsxs)("tr",{className:"border-t border-gray-700",children:[(0,a.jsx)("td",{className:"p-2",children:e.id}),(0,a.jsx)("td",{className:"p-2",children:e.title}),(0,a.jsx)("td",{className:"p-2",children:e.slug}),(0,a.jsxs)("td",{className:"p-2",children:[(0,a.jsx)(m,{movieId:e.id,onDeleteSuccess:i,fetchMovies:l}),(0,a.jsx)("button",{onClick:()=>{var t;return t=e.id,void r(`/movies/${t}`,{state:{title:e.title}})},className:"ml-2 bg-blue-600 hover:bg-blue-700 py-1 px-2 rounded",children:"Xem chi tiết"}),(0,a.jsx)("button",{onClick:()=>{var t;return t=e.id,void r(`movies/${t}/update`)},className:"ml-2 bg-green-600 hover:bg-green-700 py-1 px-2 rounded",children:"Cập nhật"})]})]},e.id))})]})]})},x=function(){let{listMovies:e,setListMovies:t,fetchMovies:s}=(()=>{let[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)([]),[r,n]=(0,l.useState)([]),o=(0,l.useCallback)(async()=>{try{let e=(await (0,i.PL)((0,i.hJ)(c,"movies"))).docs.map(e=>({id:e.id,...e.data()}));t(e)}catch(e){console.error("Lỗi khi lấy movies:",e),t([])}},[]),d=(0,l.useCallback)(async()=>{try{let e=(await (0,i.PL)((0,i.hJ)(c,"banners"))).docs.map(e=>({id:e.id,...e.data()}));a(e)}catch(e){console.error("Lỗi khi lấy banners:",e),a([])}},[]),m=(0,l.useCallback)(async()=>{try{let e=(await (0,i.PL)((0,i.hJ)(c,"categories"))).docs.map(e=>({id:e.id,...e.data()}));n(e)}catch(e){console.error("Lỗi khi lấy categories:",e),n([])}},[]);return(0,l.useEffect)(()=>{o(),d(),m()},[o,d,m]),{listMovies:e,listBanners:s,listCategories:r,fetchMovies:o,fetchBanners:d,fetchCategories:m,setListMovies:t}})();return(0,a.jsxs)("div",{className:"p-6 bg-black min-h-screen text-white",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Trang Admin"}),(0,a.jsx)(d,{addMovie:e=>{t(t=>[...t,e])},fetchMovies:s}),(0,a.jsx)("hr",{className:"my-8 border-gray-600"}),(0,a.jsx)(h,{listMovies:e,setListMovies:t,fetchMovies:s})]})},p=function(){var e,t;let s,{id:r}=(0,n.UO)(),o=(0,n.TH)(),d=null==(e=o.state)?void 0:e.title,[m,h]=(0,l.useState)(null),[x,p]=(0,l.useState)(!0),[u,g]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),[j,y]=(0,l.useState)([]),[v,N]=(0,l.useState)([]);return((0,l.useEffect)(()=>{!async function(){try{let e=(0,i.JU)(c,"movies",r),t=await (0,i.QT)(e);if(t.exists()){let e=t.data();h(e);let s=e.actor.map(e=>({name:e}));y(s);let a=(await (0,i.PL)((0,i.hJ)(c,"movies"))).docs.map(e=>({id:e.id,...e.data()}));N(a)}else console.log("No such document!")}catch(e){console.log("Lỗi khi lấy dữ liệu phim:",e)}finally{p(!1)}}()},[r]),o.state)?x?(0,a.jsxs)("p",{className:"text-yellow-400",children:[`\u{110}ang l\u{1EA5}y d\u{1EEF} li\u{1EC7}u phim v\u{1EDB}i ID: ${r}.`,(0,a.jsx)("br",{}),d&&`T\xean phim: ${d}`]}):m?(0,a.jsxs)("div",{className:"bg-[#121317] min-h-screen text-white cursor-pointer",children:[(0,a.jsx)("div",{className:"w-full h-[600px] mb-6",children:m.trailer.includes("youtube.com")||m.trailer.includes("youtu.be")?(0,a.jsx)("iframe",{className:"w-full h-full rounded shadow",src:(t=m.trailer)?t.includes("youtu.be/")?`https://www.youtube.com/embed/${t.split("youtu.be/")[1].split("?")[0]}`:t.includes("watch?v=")?`https://www.youtube.com/embed/${t.split("watch?v=")[1].split("&")[0]}`:t:"",title:"Trailer",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,a.jsx)("video",{controls:!0,src:m.trailer,className:"w-full h-full rounded shadow object-contain",children:"Tr\xecnh duyệt của bạn kh\xf4ng hỗ trợ video."})}),(0,a.jsx)("div",{className:"max-w-[1440px] mx-auto px-4",children:(0,a.jsxs)("section",{className:"flex items-start",children:[(0,a.jsxs)("div",{className:"basis-[300px] flex-none rounded-[1.25rem] bg-[rgba(25,27,36,0.6)] p-5",children:[(0,a.jsx)("div",{className:"w-[160px] h-[240px] relative rounded-md overflow-hidden bg-[var(--bg-3)] mb-4",children:m.image&&(0,a.jsx)("img",{src:m.image,alt:m.title,className:"absolute inset-0 w-full h-full object-cover"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-1",children:m.title}),(0,a.jsx)("p",{className:"text-[var(--primary-text)] mb-6 font-normal",children:m.slug}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs mb-3",children:[(0,a.jsx)("span",{className:"border px-2 py-1 rounded bg-gray-700",children:m.age}),(0,a.jsx)("span",{className:"border px-2 py-1 rounded bg-gray-700",children:m.season}),(0,a.jsx)("span",{className:"border px-2 py-1 rounded bg-gray-700",children:m.episode})]}),(0,a.jsxs)("div",{className:"text-sm text-orange-400 mb-4",children:["Đ\xe3 chiếu: ",m.episode||"Kh\xf4ng r\xf5"]}),(0,a.jsxs)("div",{className:"text-sm leading-relaxed",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"",children:"Giới thiệu:"})," ",(0,a.jsx)("span",{className:"text-[#aaaaaa] text-sm font-normal",children:m.description||"Kh\xf4ng c\xf3"})]}),(0,a.jsxs)("p",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"Thời lượng:"}),(0,a.jsx)("span",{className:"text-[#aaaaaa] text-sm font-normal",children:m.time||"Kh\xf4ng c\xf3"})]}),(0,a.jsxs)("p",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"Quốc Gia:"})," ",Array.isArray(s=m.region)?s.join(", "):s||"Kh\xf4ng c\xf3"]})]}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"py-[20px]",children:(0,a.jsx)("img",{src:"https://res.cloudinary.com/dehyvlweg/image/upload/v1752677762/mPXx9031MhI_wtbfyz.webp",alt:"banner"})}),(0,a.jsx)("div",{className:"mt-[10px] w-full rounded-md overflow-hidden mb-4 p-5",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:j.map((e,t)=>(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-sm",children:e.name})},t))})}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{children:(0,a.jsx)("h1",{children:"Top phim tuần n\xe0y"})})]}),(0,a.jsxs)("div",{className:"flex-[2.5] rounded-[1.25rem] bg-[rgba(25,27,36,0.6)]",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-6 p-[30px]",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center gap-2 rounded-full text-black shadow-lg hover:opacity-90 transition",style:{width:"178px",height:"60px",background:"linear-gradient(39deg, rgba(254, 207, 89, 1), rgba(255, 241, 204, 1))"},children:[(0,a.jsx)("i",{className:"fas fa-play text-sm"}),(0,a.jsx)("span",{className:"font-medium",children:"Xem Ngay"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-8 text-sm text-white",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("i",{className:"fas fa-heart text-lg mb-1"}),(0,a.jsx)("a",{children:"Y\xeau th\xedch"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("i",{className:"fas fa-plus text-lg mb-1"}),(0,a.jsx)("a",{children:"Th\xeam v\xe0o"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("i",{className:"fas fa-paper-plane text-lg mb-1"}),(0,a.jsx)("a",{children:"Chia sẻ"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("i",{className:"fas fa-comment-dots text-lg mb-1"}),(0,a.jsx)("a",{children:"B\xecnh luận"})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-1 text-sm rounded-full bg-blue-600 text-white hover:bg-blue-500 transition",children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full bg-white flex items-center justify-center text-blue-600 font-bold text-xs",children:"0"}),"Đ\xe1nh gi\xe1"]})})]}),(0,a.jsx)("div",{className:"pb-[30px]",children:(0,a.jsx)("div",{className:" mx-auto mt-6 border border-white rounded overflow-hidden max-w-[896px] w-full",children:(0,a.jsx)("div",{className:"aspect-[896/111]",children:(0,a.jsx)("img",{src:"https://res.cloudinary.com/dehyvlweg/image/upload/v1752718710/c9619ISs_revboo.webp",alt:"banner",className:"w-full h-full object-cover"})})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,a.jsx)("button",{className:`text-sm font-semibold px-4 py-2 rounded ${u?"text-yellow-400":"text-white"}`,onClick:()=>{g(!0),f(!1)},children:"Diễn vi\xean"}),(0,a.jsx)("button",{className:`text-sm font-semibold px-4 py-2 rounded ${b?"text-yellow-400":"text-white"}`,onClick:()=>{f(!0),g(!1)},children:"Đề xuất"})]}),u&&(0,a.jsx)("div",{className:"mt-[10px] w-full rounded-md overflow-hidden mb-4 p-5",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:j.map((e,t)=>(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-sm",children:e.name})},t))})}),b&&(0,a.jsx)("div",{className:"mt-[10px] w-full rounded-md overflow-hidden mb-4 p-5",children:(0,a.jsx)("div",{className:"grid grid-cols-5 gap-6",children:v.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[e.image&&(0,a.jsx)("img",{src:e.image,alt:e.title,className:"w-48 h-72 rounded object-cover mb-2"}),(0,a.jsx)("span",{className:"text-[16px] text-center",children:e.title})]},t))})})]})]})]})})]}):(0,a.jsxs)("p",{className:"text-red-400",children:["Kh\xf4ng t\xecm thấy phim với ID: ",r]}):(0,a.jsx)("h2",{className:"text-red-500",children:"Kh\xf4ng c\xf3 quyền truy cập!"})},u=function(){return(0,a.jsxs)("header",{className:"fixed top-0 left-0 z-10 flex flex-wrap gap-1 items-center justify-center bg-[#0F111A] w-full p-4",children:[(0,a.jsx)("div",{className:"w-[120px] shrink-0",children:(0,a.jsx)("img",{className:"w-full",src:"https://res.cloudinary.com/dehyvlweg/image/upload/v1752458789/ro-phim-logo_e3foeo.svg",alt:"Rổ Phim"})}),(0,a.jsx)("div",{className:"flex-1 relative max-w-[368px] h-[44.8px]",children:(0,a.jsx)("input",{className:"w-full h-full bg-white/10 border-0 rounded-[5px] text-amber-50 px-3",type:"text",placeholder:"T\xecm kiếm phim, diễn vi\xean"})}),(0,a.jsxs)("nav",{style:{flex:"2 1 400px"},className:"flex flex-wrap justify-center gap-2 ",children:[(0,a.jsx)("a",{className:"no-underline text-amber-50 text-[13px] px-2 py-0 whitespace-nowrap transition-colors duration-300 ease-in-out hover:text-[#FFD875]",href:"#",children:"Chủ Đề"}),(0,a.jsx)("a",{className:"no-underline text-amber-50 text-[13px] px-2 py-0 whitespace-nowrap transition-colors duration-300 ease-in-out hover:text-[#FFD875]",href:"#",children:"Thể Loại"}),(0,a.jsx)("a",{className:"no-underline text-amber-50 text-[13px] px-2 py-0 whitespace-nowrap transition-colors duration-300 ease-in-out hover:text-[#FFD875]",href:"#",children:"Phim Lẻ"}),(0,a.jsx)("a",{className:"no-underline text-amber-50 text-[13px] px-2 py-0 whitespace-nowrap transition-colors duration-300 ease-in-out hover:text-[#FFD875]",href:"#",children:"Xem Chung"}),(0,a.jsx)("a",{className:"no-underline text-amber-50 text-[13px] px-2 py-0 whitespace-nowrap transition-colors duration-300 ease-in-out hover:text-[#FFD875]",href:"#",children:"Quốc Gia"}),(0,a.jsx)("a",{className:"no-underline text-amber-50 text-[13px] px-2 py-0 whitespace-nowrap transition-colors duration-300 ease-in-out hover:text-[#FFD875]",href:"#",children:"Diễn Vi\xean"}),(0,a.jsx)("a",{className:"no-underline text-amber-50 text-[13px] px-2 py-0 whitespace-nowrap transition-colors duration-300 ease-in-out hover:text-[#FFD875]",href:"#",children:"Lịch Chiếu"}),(0,a.jsx)("a",{className:"no-underline text-amber-50 text-[13px] px-2 py-0 whitespace-nowrap transition-colors duration-300 ease-in-out hover:text-[#FFD875]",href:"#",children:"Chủ Đề"})]}),(0,a.jsxs)("div",{className:"flex px-5 py-0",children:[(0,a.jsxs)("div",{className:"flex flex-col border-r border-r-white px-5 py-0",children:[(0,a.jsx)("a",{className:"text-[14px] font-sans text-white",href:"#",children:"Tải Ứng Dụng"}),(0,a.jsx)("a",{className:"text-[14px] font-sans text-white",href:"#",children:"RoPhim"})]}),(0,a.jsx)("div",{className:"flex items-center border rounded-[13px] w-[125px] h-[40.58px] justify-center bg-amber-50 ml-4",children:(0,a.jsx)("a",{className:"text-[14px] font-sans font-bold text-[#333]",href:"#",children:"Th\xe0nh vi\xean"})})]})]})},g=function(){let{id:e}=(0,n.UO)(),t=(0,n.s0)(),[s,r]=(0,l.useState)(null),[o,d]=(0,l.useState)(!0),[m,h]=(0,l.useState)(""),[x,p]=(0,l.useState)(""),[u,g]=(0,l.useState)("");(0,l.useEffect)(()=>{!async function(){try{let t=(0,i.JU)(c,"movies",e),s=await (0,i.QT)(t);if(s.exists()){let e=s.data();r({...e,episode:Array.isArray(e.episode)?e.episode.join(", "):e.episode||"",region:Array.isArray(e.region)?e.region.join(", "):e.region||"",actor:Array.isArray(e.actor)?e.actor.join(", "):e.actor||"",type:Array.isArray(e.type)?e.type.join(", "):e.type||""})}else h("Kh\xf4ng t\xecm thấy phim!")}catch(e){console.error(e),h("Lỗi khi lấy dữ liệu!")}finally{d(!1)}}()},[e]);let b=e=>{let{name:t,value:s}=e.target;r(e=>({...e,[t]:s}))},f=async a=>{a.preventDefault();try{let a={...s};["episode","region","actor","type"].forEach(e=>{a[e]&&(a[e]=a[e].split(",").map(e=>e.trim()).filter(e=>e.length>0))});let l=(0,i.JU)(c,"movies",e);await (0,i.r7)(l,a),alert("Cập nhật th\xe0nh c\xf4ng!"),t("/admin")}catch(e){console.error(e),h("Lỗi khi cập nhật!")}};return o?(0,a.jsx)("p",{className:"text-yellow-400",children:"Đang tải dữ liệu phim"}):s?(0,a.jsxs)("form",{onSubmit:f,className:"space-y-3 bg-gray-800 p-6 rounded-xl text-white max-w-[50vw] mx-auto",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-3",children:"Cập nhật Phim"}),Object.entries(s).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-1 font-semibold capitalize",children:t}),(0,a.jsx)("input",{type:"text",name:t,placeholder:t,value:s,onChange:b,className:"w-full p-2 bg-gray-700 rounded"})]},t)}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"T\xean thuộc t\xednh mới",value:x,onChange:e=>p(e.target.value),className:"p-2 bg-gray-700 rounded col-span-1"}),(0,a.jsx)("input",{type:"text",placeholder:"Gi\xe1 trị",value:u,onChange:e=>g(e.target.value),className:"p-2 bg-gray-700 rounded col-span-1"}),(0,a.jsx)("button",{type:"button",onClick:()=>{x.trim()&&(r(e=>({...e,[x.trim()]:u})),p(""),g(""))},className:"bg-purple-600 hover:bg-purple-700 px-4 rounded col-span-1",children:"+ Th\xeam"})]}),m&&(0,a.jsx)("p",{className:"text-red-400 text-sm",children:m}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 py-2 rounded font-semibold",children:"Cập nhật Phim"})]}):(0,a.jsx)("p",{className:"text-red-400",children:m})},b=function(){let e=(0,n.s0)(),[t,s]=(0,l.useState)(""),[r,o]=(0,l.useState)(""),d=async s=>{if(s.preventDefault(),!t||!r)return void alert("Vui l\xf2ng điền đầy đủ t\xean đăng nhập v\xe0 mật khẩu");try{let s=(0,i.hJ)(c,"accounts"),a=(0,i.IO)(s,(0,i.ar)("username","==",t)),l=await (0,i.PL)(a);if(l.empty)return void alert("T\xe0i khoản kh\xf4ng tồn tại");let n=l.docs[0].data();if(console.log("11111111111111111s",n),"user"===n.role&&e("/movies/input"),"admin"===n.role&&e("/admin"),n.password!==r)return void alert("Mật khẩu kh\xf4ng đ\xfang")}catch(e){console.error("Lỗi khi đăng nhập:",e),alert("Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại sau.")}};return console.log(">>>>>>>>>>>>>>>",t),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Đăng Nhập"}),(0,a.jsxs)("form",{onSubmit:d,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xean đăng nhập"}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhập t\xean đăng nhập"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mật khẩu"}),(0,a.jsx)("input",{type:"password",value:r,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhập mật khẩu"})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition duration-200",children:"Đăng Nhập"})]}),(0,a.jsx)("p",{className:"mt-4 text-center text-sm text-gray-600 cursor-pointer",children:"Qu\xean Mật Khẩu"}),(0,a.jsx)("p",{onClick:()=>e("/sign-up"),className:"block mt-2 text-sm text-blue-600 text-center cursor-pointer hover:underline",children:"Đăng K\xfd"})]})})},f=function(){let[e,t]=(0,l.useState)({fullName:"",email:"",username:"",password:"",confirmPassword:"",role:"user"}),s=(0,n.s0)(),[r,o]=(0,l.useState)(""),d=e=>{t(t=>({...t,[e.target.name]:e.target.value}))},m=async s=>{s.preventDefault();let{fullName:a,email:l,username:r,password:n,confirmPassword:d,role:m}=e;if(!a||!l||!r||!n||!d)return void o("Vui l\xf2ng điền đầy đủ th\xf4ng tin");if(n!==d)return void o("Mật khẩu x\xe1c nhận kh\xf4ng khớp");try{await (0,i.ET)((0,i.hJ)(c,"accounts"),{fullName:a,email:l,username:r,password:n,role:m}),alert("Đăng k\xfd th\xe0nh c\xf4ng!"),o(""),t({fullName:"",email:"",username:"",password:"",confirmPassword:""})}catch(e){console.error("Lỗi khi đăng k\xfd:",e),o("Đ\xe3 c\xf3 lỗi xảy ra khi đăng k\xfd")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Đăng K\xfd T\xe0i Khoản"}),r&&(0,a.jsx)("div",{className:"mb-4 text-red-500 text-center",children:r}),(0,a.jsxs)("form",{onSubmit:m,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Họ t\xean"}),(0,a.jsx)("input",{type:"text",name:"fullName",value:e.fullName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Nhập họ t\xean"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",value:e.email,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Nhập email"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xean người d\xf9ng"}),(0,a.jsx)("input",{type:"text",name:"username",value:e.username,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Nhập username"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mật khẩu"}),(0,a.jsx)("input",{type:"password",name:"password",value:e.password,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"Nhập mật khẩu"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X\xe1c nhận mật khẩu"}),(0,a.jsx)("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"X\xe1c nhận mật khẩu"})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition duration-200",onClick:()=>s("/login"),children:"Đăng K\xfd"})]})]})})};r.createRoot(document.getElementById("root")).render((0,a.jsx)(l.StrictMode,{children:(0,a.jsx)(n.VK,{children:(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"bg-[#0F111A]",children:[(0,a.jsxs)(n.Z5,{children:[(0,a.jsxs)(n.AW,{path:"admin",children:[(0,a.jsx)(n.AW,{index:!0,element:(0,a.jsx)(x,{})}),(0,a.jsx)(n.AW,{path:"movies",element:(0,a.jsx)(h,{})}),(0,a.jsx)(n.AW,{path:"movies/:id/update",element:(0,a.jsx)(g,{})})]}),(0,a.jsx)(n.AW,{path:"login",element:(0,a.jsx)(b,{})}),(0,a.jsx)(n.AW,{path:"/sign-up",element:(0,a.jsx)(f,{})}),(0,a.jsx)(n.AW,{path:"movies/:id",element:(0,a.jsx)(p,{})}),(0,a.jsx)(n.AW,{path:"movies/input",element:(0,a.jsx)(u,{})})]}),(0,a.jsx)("br",{})]}),{})})}))}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}s.m=e,s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];s.O=(t,a,l,r)=>{if(a){r=r||0;for(var n=e.length;n>0&&e[n-1][2]>r;n--)e[n]=e[n-1];e[n]=[a,l,r];return}for(var i=1/0,n=0;n<e.length;n++){for(var[a,l,r]=e[n],o=!0,c=0;c<a.length;c++)(!1&r||i>=r)&&Object.keys(s.O).every(e=>s.O[e](a[c]))?a.splice(c--,1):(o=!1,r<i&&(i=r));if(o){e.splice(n--,1);var d=l();void 0!==d&&(t=d)}}return t}})(),(()=>{var e={980:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var l,r,[n,i,o]=a,c=0;if(n.some(t=>0!==e[t])){for(l in i)s.o(i,l)&&(s.m[l]=i[l]);if(o)var d=o(s)}for(t&&t(a);c<n.length;c++)r=n[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},a=self.webpackChunkrophim_firebase=self.webpackChunkrophim_firebase||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=s.O(void 0,["361","118","16"],function(){return s(109)});a=s.O(a)})();